# Smoke Test

This procedure covers most of the features in the mod, providing a solid assessment of whether the mod is stable. It should be repeated with every major release.

## Repeat the following for PS5, Xbox and Keyboard controls

### Basic Meditation
- open meditation from radial menu
- exit meditation
- open meditation from common menu home page
- advance time
- check the glow animation plays after advancing time
- cancel advance time
- advance time, then cancel advance time and press it again to quickly close the menu
- open the meditation menu by switching tabs in the common menu
- press all buttons during meditation (keybord only: when opening a menu, check the mouse cursor doesn't snap)
- press all buttons during advancing time
- press all buttons whilst exiting meditation
- confirm that you can't save during meditation
- test button prompt swapping when swapping between controller type
- check the Meditation menu is not active during Confirm Intent
- (PS5) check that sign R2 haptics are removed during meditation and restored after
- (keyboard only) open meditation via hotkey (N)
- (keyboard only) check the N key functions exactly like escape
- (keyboard only) testing clicking button prompts in meditation menu
- (keyboard only) check the Alchemy prompt doesn't lose it's square braces after meditating once
- (keyboard only) check the mouse cursor doesn't snap when opening meditation, even if you moved the mouse prior to starting

### Corvo Bianco
- open the rest menu
- close the rest menu
- advance time
- cancel advancing time
- cancel advancing time and double press to leave the menu quickly
- check the glow animation plays
- test button prompt swapping
- press all buttons whilst entering rest
- press all buttons whilst sitting on the rest menu
- press all buttons whilst advancing time
- press all buttons whilst exiting rest
- check Rest works as normal if you confirm intent first
- check Rest works as normal if you cancel confirm intent first
- (PS5) check that sign R2 haptics are removed during rest and restored after
- (keyboard only) test clicking button prompts in rest on keyboard
- (keyboard only) check the keyboard prompts are centered

### Confirm Intent
- check the menu appears when switching tabs
- check the menu doesn't appear when opening meditation from the radial menu
- check the menu doesn't appear when opening meditation via hotkey
- check the menu doesn't appear when opening meditation via common menu home page
- press every button on the confirm intent panel
- check button prompt swapping
- check you can't save
- (PS5) check that sign R2 haptics are removed during confirm intent and restored after
- (keyboard only) check the confirm intent button is clickable

## Do the following only once

### Exterior
- repeat the following with and without 'Automatic camera centering' enabled and with and without 'Manual Camera Control' enabled and with each new Camera Style
    - check camera transitions in exterior and default camera and campfire
    - check camera transitions in exterior and default camera and no campfire
    - check camera transitions in exterior and close camera and campfire
    - check camera transitions in exterior and close camera and no campfire
- check campfire doesn't spawn very far below geralt
- check campfire doesn't spawn if it would be in shallow water
- check campfire doesn't spawn if Geralt is in shallow water
- check the HUD doesn't appear when entering meditation from the radial menu
- check the HUD doesn't appear after closing another menu during meditation
- check campfire spawn position when meditating whilst jogging
- check campfire spawn position when meditating after just releasing jogging
- check campfire spawn position when meditating whilst sprinting
- check campfire spawn position when meditating after just releasing sprinting

### Config
- check alchemy requires meditation toggle works
- check alchemy takes time toggle works
- check show alchemy prompt toggle works
- check use campfire toggle works
- check Manual Camera Control works
- check Camera Style works
- check confirm intent works

### Boat
- check camera transitions on boat and default camera
- check camera transitions on boat and close camera
- check campfire doesn't spawn on boat

### Interior
- check camera transitions in interior and default camera
- check camera transitions in interior and close camera
- check campfire doesn't spawn in interiors
- check campfire doesn't spawn in settlement

### Meditation
- check that meditation refills potions
- check that meditation refills health on lower difficulties
- check meditation is interrupted by combat
- check advancing time is interrupted by combat
- try and open meditation when swinging your sword (by all four means)
- try and open meditation when on roach (by all four means)
- try and open meditation in combat (by all four means)
- check Meditation works as normal if you confirm intent first
- check Meditation works as normal if you cancel confirm intent first
- check the game is paused properly behind the confirm intent menu

### Alchemy
- check you can't craft alchemy items outside of meditation
- check you can craft alchemy items during meditation
- check you can craft alchemy items at a herbalist
- check you can craft quest items inside meditation
- check you can craft quest items outside meditation
- check you can craft quest items at a herbalist
- check non-quest items advance time when crafted
- check quest items don't advance time when crafted
- check non-quest items give the correct warning inside meditation
- check non-quest items give the correct warning outside meditation
- check quest items give the correct warning inside meditation
- check quest items give the correct warning outside meditation
- check the Alchemy Table functions as usual
